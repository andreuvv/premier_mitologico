import{j as e,m as _,l as h}from"./index-DtB_3u9q.js";import{r as n}from"./vendor-CDu7jYU_.js";import{f as N}from"./fixtureAPI-CCqzuYvt.js";import"./react-icons-CWiluJEb.js";import"./api-BhmblKSE.js";const f="_container_1aqe8_1",y="_loading_1aqe8_9",b="_error_1aqe8_11",q="_empty_1aqe8_13",g="_layout_1aqe8_51",I="_sidebar_1aqe8_63",C="_nav_1aqe8_85",F="_menuItem_1aqe8_97",R="_active_1aqe8_139",P="_menuIcon_1aqe8_151",E="_overlay_1aqe8_161",S="_hamburger_1aqe8_169",B="_content_1aqe8_177",D="_header_1aqe8_187",M="_icon_1aqe8_215",k="_matchesContainer_1aqe8_225",T="_matchTable_1aqe8_239",$="_playerName_1aqe8_303",O="_score_1aqe8_315",w="_vs_1aqe8_329",A="_open_1aqe8_369",a={container:f,loading:y,error:b,empty:q,layout:g,sidebar:I,nav:C,menuItem:F,active:R,menuIcon:P,overlay:E,hamburger:S,content:B,header:D,icon:M,matchesContainer:k,matchTable:T,playerName:$,score:O,vs:w,open:A},K=()=>{const[o,x]=n.useState(1),[i,l]=n.useState(!1),[c,j]=n.useState(null),[p,d]=n.useState(!0),[m,u]=n.useState(null);n.useEffect(()=>{(async()=>{try{d(!0);const t=await N.getFixture();j(t),u(null)}catch(t){u("Error al cargar el fixture. Por favor, intenta de nuevo."),console.error("Error fetching fixture:",t)}finally{d(!1)}})()},[]);const r=c?.rounds.find(s=>s.number===o),v=s=>{x(s),l(!1)};return p?e.jsx("div",{className:a.container,children:e.jsx("div",{className:a.loading,children:"Cargando fixture..."})}):m?e.jsx("div",{className:a.container,children:e.jsx("div",{className:a.error,children:m})}):!c||c.rounds.length===0?e.jsx("div",{className:a.container,children:e.jsx("div",{className:a.empty,children:"No hay fixture disponible aún."})}):e.jsx("div",{className:a.container,children:e.jsxs("div",{className:a.layout,children:[e.jsx("aside",{className:`${a.sidebar} ${i?a.open:""}`,children:e.jsx("nav",{className:a.nav,children:c.rounds.map(s=>{const t=s.format==="PB"?_:h;return e.jsxs("button",{className:`${a.menuItem} ${o===s.number?a.active:""}`,onClick:()=>v(s.number),children:[e.jsx(t,{className:a.menuIcon}),e.jsxs("span",{children:["Ronda ",s.number]})]},s.number)})})}),i&&e.jsx("div",{className:a.overlay,onClick:()=>l(!1)}),e.jsxs("div",{className:a.content,children:[e.jsxs("div",{className:a.header,children:[e.jsx("button",{className:a.hamburger,onClick:()=>l(!i),children:"☰"}),e.jsxs("h1",{children:[r&&(r.format==="PB"?e.jsx(_,{className:a.icon}):e.jsx(h,{className:a.icon})),"Ronda ",o," - ",r?.format==="PB"?"Primer Bloque":"Bloque Furia"]})]}),r?e.jsx("div",{className:a.matchesContainer,children:e.jsxs("table",{className:a.matchTable,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Duelista"}),e.jsx("th",{children:"Resultado"}),e.jsx("th",{}),e.jsx("th",{children:"Resultado"}),e.jsx("th",{children:"Duelista"})]})}),e.jsx("tbody",{children:r.matches.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:a.playerName,children:s.player1_name}),e.jsx("td",{className:a.score,children:s.score1??"-"}),e.jsx("td",{className:a.vs,children:"vs"}),e.jsx("td",{className:a.score,children:s.score2??"-"}),e.jsx("td",{className:a.playerName,children:s.player2_name})]},s.id))})]})}):e.jsx("p",{children:"No hay datos disponibles para esta ronda."})]})]})})};export{K as default};
