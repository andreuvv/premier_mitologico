import{j as a,k as E}from"./index-DtB_3u9q.js";import{r}from"./vendor-CDu7jYU_.js";import{B as o,a as n,l as b,F as L,b as B}from"./banlistSummary-hK1O8rwn.js";import"./react-icons-CWiluJEb.js";const C={[o.PRIMER_BLOQUE_LIBRE]:"banlist_pb_libre.json",[o.PRIMER_BLOQUE_EDICION]:"banlist_pb_edition.json",[o.BLOQUE_FURIA_LIBRE]:"banlist_bf_libre.json",[o.BLOQUE_FURIA_LIMITED]:"banlist_bf_limited.json"},g=async c=>{const l=C[c],t=await fetch(`/premier_mitologico/assets/json/${l}`);if(!t.ok)throw new Error(`Failed to load banlist: ${l}`);return t.json()},N="_container_irwfj_1",U="_accordion_irwfj_9",R="_accordionHeader_irwfj_17",S="_accordionChevron_irwfj_59",y="_accordionBody_irwfj_69",O="_disclaimer_irwfj_83",F="_lastUpdated_irwfj_147",D="_controls_irwfj_159",T="_formatSelector_irwfj_175",P="_lastUpdatedWrapper_irwfj_243",M="_infoIconContainer_irwfj_257",A="_infoIcon_irwfj_257",Q="_tooltip_irwfj_291",k="_popupOverlay_irwfj_335",H="_popup_irwfj_335",X="_popupHeader_irwfj_379",q="_popupContent_irwfj_443",z="_categoryTabs_irwfj_469",G="_activeTab_irwfj_515",W="_loading_irwfj_525",$="_cardsGrid_irwfj_539",J="_card_irwfj_539",K="_placeholder_irwfj_589",V="_cardInfo_irwfj_611",s={container:N,accordion:U,accordionHeader:R,accordionChevron:S,accordionBody:y,disclaimer:O,lastUpdated:F,controls:D,formatSelector:T,lastUpdatedWrapper:P,infoIconContainer:M,infoIcon:A,tooltip:Q,popupOverlay:k,popup:H,popupHeader:X,popupContent:q,categoryTabs:z,activeTab:G,loading:W,cardsGrid:$,card:J,placeholder:K,cardInfo:V},oa=()=>{const[c,l]=r.useState(o.PRIMER_BLOQUE_LIBRE),[t,j]=r.useState(n.BANNED),[i,u]=r.useState(null),[f,d]=r.useState(!0),[m,p]=r.useState(!1),[_,h]=r.useState(!1);r.useEffect(()=>{d(!0),g(c).then(e=>{u(e),d(!1)}).catch(e=>{console.error("Error loading banlist:",e),d(!1)})},[c]);const x=e=>{switch(e){case o.PRIMER_BLOQUE_LIBRE:return"Primer Bloque Racial Libre";case o.PRIMER_BLOQUE_EDICION:return"Primer Bloque Racial Edición";case o.BLOQUE_FURIA_LIBRE:return"Bloque Furia Racial Libre";case o.BLOQUE_FURIA_LIMITED:return"Bloque Furia Limitado"}},I=e=>{switch(e){case n.BANNED:return"Baneadas";case n.LIMITED_X1:return"Limitadas x1";case n.LIMITED_X2:return"Limitadas x2"}},v=(()=>{if(!i)return[];switch(t){case n.BANNED:return i.banned;case n.LIMITED_X1:return i.limitedX1;case n.LIMITED_X2:return i.limitedX2}})();return a.jsxs("div",{className:s.container,children:[a.jsxs("div",{className:s.accordion,children:[a.jsxs("button",{className:s.accordionHeader,onClick:()=>h(!_),children:[a.jsxs("span",{children:["Resumen actualización ",b]}),a.jsx("span",{className:s.accordionChevron,children:_?"▾":"▸"})]}),_&&a.jsxs("div",{className:s.accordionBody,children:[a.jsx("p",{className:s.disclaimer,children:"Cartas no mencionadas mantienen restricciones del mes anterior"}),a.jsx(L,{summaries:B})]})]}),a.jsxs("div",{className:s.controls,children:[a.jsxs("div",{className:s.formatSelector,children:[a.jsx("label",{children:"Formato:"}),a.jsx("select",{value:c,onChange:e=>l(e.target.value),children:Object.values(o).map(e=>a.jsx("option",{value:e,children:x(e)},e))}),i&&a.jsxs("div",{className:s.lastUpdatedWrapper,children:[a.jsxs("p",{className:s.lastUpdated,children:["Última actualización: ",new Date(i.lastUpdated).toLocaleDateString("es-ES",{month:"long",year:"numeric"}).replace(/^\w/,e=>e.toUpperCase())]}),a.jsxs("div",{className:s.infoIconContainer,children:[a.jsx(E,{className:s.infoIcon,onClick:e=>{e.stopPropagation(),p(!m)}}),a.jsx("div",{className:s.tooltip,children:"Información importante de las restricciones."})]})]})]}),a.jsx("div",{className:s.categoryTabs,children:Object.values(n).map(e=>a.jsx("button",{className:t===e?s.activeTab:"",onClick:()=>j(e),children:I(e)},e))})]}),f?a.jsx("div",{className:s.loading,children:"Cargando..."}):a.jsx("div",{className:s.cardsGrid,children:v.map((e,w)=>a.jsxs("div",{className:s.card,children:[e.imageUrl?a.jsx("img",{src:e.imageUrl,alt:e.name}):a.jsx("div",{className:s.placeholder,children:"Sin imagen"}),a.jsxs("div",{className:s.cardInfo,children:[a.jsx("h3",{children:e.name}),a.jsx("p",{children:e.type})]})]},w))}),m&&a.jsx("div",{className:s.popupOverlay,onClick:()=>p(!1),children:a.jsxs("div",{className:s.popup,onClick:e=>e.stopPropagation(),children:[a.jsxs("div",{className:s.popupHeader,children:[a.jsx("h3",{children:"Información de Banlist"}),a.jsx("button",{onClick:()=>p(!1),children:"×"})]}),a.jsxs("div",{className:s.popupContent,children:[a.jsx("p",{children:a.jsx("strong",{children:"Para todos los formatos, no se pueden incluir en el mazo:"})}),a.jsxs("ul",{children:[a.jsx("li",{children:"Las cartas de Aliado sin raza"}),a.jsx("li",{children:'Las cartas con "SP" en su nombre'}),a.jsx("li",{children:"Las cartas con ★ en su nombre"})]}),a.jsx("p",{children:" "}),a.jsx("p",{children:"Las imágenes usadas son referenciales y pueden o no corresponder a la última versión impresa de la carta."}),a.jsx("p",{children:"Las siguientes restricciones aplican a cualquier versión de la carta."})]})]})})]})};export{oa as default};
